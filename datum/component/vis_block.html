<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../../"><link rel="stylesheet" href="dmdoc.css"><title>/datum/component/vis_block - Space Station Effigy</title></head><body><header><a href="index.html">Space Station Effigy</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="datum/component/vis_block.html#var">Var Details</a></header><main><h1>vis_block <aside>/<a href="datum.html">datum</a>/<a href="datum/component.html">component</a>/<a href="datum/component/vis_block.html">vis_block</a></aside> <a href="https://github.com/effigy-se/effigy-se/blob/f625e65120ca91936ccd0b86fe83a721de368473/code/datums/components/vis_block.dm#L39"><img src="git.png" width="16" height="16" title="code/datums/components/vis_block.dm 39"></a></h1><p>Applies directional opacity through a series of &quot;vis&quot; overlays
(drawing darkness onto our main object, and masks of that darkness on the turfs around us)</p><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="datum/component/vis_block.html#var/actively_blocking">actively_blocking</a></th><td>Are we actively blocking sight right now or not</td></tr><tr><th><a href="datum/component/vis_block.html#var/dir_mask">dir_mask</a></th><td>What directions in which we do not fully cover our darkness with masks</td></tr><tr><th><a href="datum/component/vis_block.html#var/direction_to_mask">direction_to_mask</a></th><td>List of direction -&gt; mask to display</td></tr><tr><th><a href="datum/component/vis_block.html#var/edge_dir_mask">edge_dir_mask</a></th><td>Similar to the above but used for cases where walls are adjacent</td></tr><tr><th><a href="datum/component/vis_block.html#var/inner_transparent_dirs">inner_transparent_dirs</a></th><td>Allows for full directional visibility
Icon state prefix to use for masks from vis_mask.dmi</td></tr><tr><th><a href="datum/component/vis_block.html#var/parent_z_shift">parent_z_shift</a></th><td>Hack to get around the offset we use to hack an issue with vis_contents and large objects
Shifts overlays (ON OUR PARENT)'s z position by this amount</td></tr><tr><th><a href="datum/component/vis_block.html#var/partial_darkness">partial_darkness</a></th><td>Are we applying partial inner darkness right now</td></tr><tr><th><a href="datum/component/vis_block.html#var/stud_finder">stud_finder</a></th><td>Abstract object we keep on our turf to use (with smoothing) to keep track of adjacent walls</td></tr><tr><th><a href="datum/component/vis_block.html#var/us_finder">us_finder</a></th><td>Abstract object we keep on our turf to use (with smoothing) to keep track of other instances of active vis_block</td></tr><tr><th><a href="datum/component/vis_block.html#var/us_junction">us_junction</a></th><td>Directions in which there is another active source of vis_block</td></tr><tr><th><a href="datum/component/vis_block.html#var/wall_junction">wall_junction</a></th><td>Directions in which there is a wall</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/actively_blocking"><aside class="declaration">var </aside>actively_blocking <aside>– </aside> <a href="https://github.com/effigy-se/effigy-se/blob/f625e65120ca91936ccd0b86fe83a721de368473/code/datums/components/vis_block.dm#L49"><img src="git.png" width="16" height="16" title="code/datums/components/vis_block.dm 49"></a></h3><p>Are we actively blocking sight right now or not</p><h3 id="var/dir_mask"><aside class="declaration">var </aside>dir_mask <aside>– </aside> <a href="https://github.com/effigy-se/effigy-se/blob/f625e65120ca91936ccd0b86fe83a721de368473/code/datums/components/vis_block.dm#L51"><img src="git.png" width="16" height="16" title="code/datums/components/vis_block.dm 51"></a></h3><p>What directions in which we do not fully cover our darkness with masks</p><h3 id="var/direction_to_mask"><aside class="declaration">var </aside>direction_to_mask <aside>– /list/mutable_appearance</aside> <a href="https://github.com/effigy-se/effigy-se/blob/f625e65120ca91936ccd0b86fe83a721de368473/code/datums/components/vis_block.dm#L41"><img src="git.png" width="16" height="16" title="code/datums/components/vis_block.dm 41"></a></h3><p>List of direction -&gt; mask to display</p><h3 id="var/edge_dir_mask"><aside class="declaration">var </aside>edge_dir_mask <aside>– </aside> <a href="https://github.com/effigy-se/effigy-se/blob/f625e65120ca91936ccd0b86fe83a721de368473/code/datums/components/vis_block.dm#L53"><img src="git.png" width="16" height="16" title="code/datums/components/vis_block.dm 53"></a></h3><p>Similar to the above but used for cases where walls are adjacent</p><h3 id="var/inner_transparent_dirs"><aside class="declaration">var </aside>inner_transparent_dirs <aside>– </aside> <a href="https://github.com/effigy-se/effigy-se/blob/f625e65120ca91936ccd0b86fe83a721de368473/code/datums/components/vis_block.dm#L56"><img src="git.png" width="16" height="16" title="code/datums/components/vis_block.dm 56"></a></h3><p>Allows for full directional visibility
Icon state prefix to use for masks from vis_mask.dmi</p><h3 id="var/parent_z_shift"><aside class="declaration">var </aside>parent_z_shift <aside>– </aside> <a href="https://github.com/effigy-se/effigy-se/blob/f625e65120ca91936ccd0b86fe83a721de368473/code/datums/components/vis_block.dm#L59"><img src="git.png" width="16" height="16" title="code/datums/components/vis_block.dm 59"></a></h3><p>Hack to get around the offset we use to hack an issue with vis_contents and large objects
Shifts overlays (ON OUR PARENT)'s z position by this amount</p><h3 id="var/partial_darkness"><aside class="declaration">var </aside>partial_darkness <aside>– </aside> <a href="https://github.com/effigy-se/effigy-se/blob/f625e65120ca91936ccd0b86fe83a721de368473/code/datums/components/vis_block.dm#L47"><img src="git.png" width="16" height="16" title="code/datums/components/vis_block.dm 47"></a></h3><p>Are we applying partial inner darkness right now</p><h3 id="var/stud_finder"><aside class="declaration">var </aside>stud_finder <aside>– /<a href="obj.html">obj</a>/effect/abstract/finder/wall</aside> <a href="https://github.com/effigy-se/effigy-se/blob/f625e65120ca91936ccd0b86fe83a721de368473/code/datums/components/vis_block.dm#L43"><img src="git.png" width="16" height="16" title="code/datums/components/vis_block.dm 43"></a></h3><p>Abstract object we keep on our turf to use (with smoothing) to keep track of adjacent walls</p><h3 id="var/us_finder"><aside class="declaration">var </aside>us_finder <aside>– /<a href="obj.html">obj</a>/effect/abstract/finder/vis_block</aside> <a href="https://github.com/effigy-se/effigy-se/blob/f625e65120ca91936ccd0b86fe83a721de368473/code/datums/components/vis_block.dm#L45"><img src="git.png" width="16" height="16" title="code/datums/components/vis_block.dm 45"></a></h3><p>Abstract object we keep on our turf to use (with smoothing) to keep track of other instances of active vis_block</p><h3 id="var/us_junction"><aside class="declaration">var </aside>us_junction <aside>– </aside> <a href="https://github.com/effigy-se/effigy-se/blob/f625e65120ca91936ccd0b86fe83a721de368473/code/datums/components/vis_block.dm#L63"><img src="git.png" width="16" height="16" title="code/datums/components/vis_block.dm 63"></a></h3><p>Directions in which there is another active source of vis_block</p><h3 id="var/wall_junction"><aside class="declaration">var </aside>wall_junction <aside>– </aside> <a href="https://github.com/effigy-se/effigy-se/blob/f625e65120ca91936ccd0b86fe83a721de368473/code/datums/components/vis_block.dm#L61"><img src="git.png" width="16" height="16" title="code/datums/components/vis_block.dm 61"></a></h3><p>Directions in which there is a wall</p></main><footer>tgstation.dme <a href="https://github.com/effigy-se/effigy-se/tree/f625e65120ca91936ccd0b86fe83a721de368473">f625e65</a> (main) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.9.0</a></footer></body></html>